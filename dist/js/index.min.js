"use strict";function _defineProperty(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var indexHtml=function(){function t(){_classCallCheck(this,t),this.$Navigation=$("#Navigation"),this.$Search=$("#Search"),this.$Sidelist=$("#Sidelist"),this.init()}return _createClass(t,[{key:"init",value:function(){this.$Navigation.load("./html/public.html #p-Navigation",function(){new(function(){function t(){_classCallCheck(this,t),this.$login=$(".login"),this.$rigister=$(".rigister"),this.$mark=$("#mark"),this.$float=$(".float"),this.$cls=$(".float>span"),this.$one=$(".one"),this.$two=$(".two"),this.$first_li=$("#p-Navigation ul>li:eq(0)"),this.$show_box=$(".success"),this.addEvent(),this.init()}return _createClass(t,[{key:"addEvent",value:function(){var t=document.body.scrollHeight,i=this,e=$(".float>div"),s=$("h3"),n=$(".float>p"),o=$(window).width()/2-i.$float.width()/2;i.$login.click(function(){i.$mark.css("display","block"),i.$float.css("left",o),i.$mark.css("height",t),n.html("欢迎您来到小米有品！<br>您可在有品进行商品浏览、支付购买、售后服务等功能。我们将严格遵守相关法律法规和隐私政策以保护您的个人信息。请您阅读并同意<span>《小米有品用户协议》</span>、<span>《隐私政策》</span>、<span>《小米账号使用协议》</span>和<span>《小米账号隐私政策》</span>。"),s.css("margin-top",40),e.css("margin-top",30),i.$one.click(function(){location.href="../dist/html/login.html"})}),i.$cls.click(function(){i.$mark.css("display","none")}),i.$two.click(function(){location.reload(!1)}),i.$rigister.click(function(){i.$mark.css("display","block"),i.$float.css("left",o),i.$mark.css("height",t),n.html("欢迎您来到小米有品！<br>我们依据最新法律法规要求，制定并更新了<span>《隐私政策》</span>、<span>《小米有品用户协议》</span>以及<span>《小米帐号使用协议》</span>。您需阅读并同意相关政策条款方可进行登录。"),s.css("margin-top",50),e.css("margin-top",38),i.$one.click(function(){location.href="https://www.jd.com/"})})}},{key:"init",value:function(){var i=this,t=$.cookie("login")?$.cookie("login"):"";t&&(this.$first_li.html("<a>".concat(t,'</a><i class="iconfont icon-xia"></i>')),this.$first_li.addClass("sli"),this.$first_li.on({mouseenter:function(){i.$show_box.css("display","block");var t=$(this).offset().left+5;i.$show_box.css("left",t)},mouseleave:function(){i.$show_box.css("display","none")}}),this.$show_box.on({mouseenter:function(){$(this).css("display","block")},mouseleave:function(){$(this).css("display","none")}}),this.$show_box.children().last().prev().click(function(){$.removeCookie("user"),location.reload(!0)}))}}]),t}())}),this.$Search.load("./html/public.html #p-Search",function(){var t,i,e;$("#Search .input>input").on({focus:function(){$("#Search .input").css("border-bottom-color","black")},blur:function(){$("#Search .input").css("border-bottom-color","#e7e7e7")}}),$(window).scroll(function(){let $p_Search = $('#p-Search');
                let $ul = $('.jsonp')
                let height = document.documentElement.scrollTop;
                if (height >= 482) {
                    $p_Search.addClass('fixed');
                    $ul.css({
                        "position": "fixed",
                        "top": 52,
                    })
                } else {
                    $p_Search.removeClass('fixed');
                    $ul.css({
                        "position": "absolute",
                        "top": 125,
                    })
                }}),t=$("#Search .input").offset().left,i=document.querySelector("#Search .input>input"),(e=$(".jsonp")).css(_defineProperty({display:"none",position:"absolute",top:120,left:t,"z-index":1e3,"background-color":"#fff",width:280,overflow:"hidden",height:"auto","max-height":360},"overflow","hidden")),i.onkeyup=function(){e.css("display","block"),e.text("");var t=document.createElement("script");t.src="https://suggest.taobao.com/sug?k=1&area=c2c&q=".concat(this.value,"&code=utf-8&ts=1659598078801&callback=fn"),document.head.appendChild(t)};i.onblur = function(){
                    $('.jsonp').css('display','none')
                }}),this.$Sidelist.load("./html/public.html #p-Sidelist",function(){$("#Sidelist .last").click(function(){window.scrollTo({top:0,behavior:"smooth"})})})}}]),t}(),list_slide=function(){function t(){_classCallCheck(this,t),this.$li=$("#List ul>li"),this.$detail=$(".nav-detail"),this.init()}return _createClass(t,[{key:"init",value:function(){var e=this;this.$li.each(function(t,i){$(this).on({mouseenter:function(){e.$detail.eq(t).css("display","block"),$(this).parent().css("height",460.8)},mouseleave:function(){e.$detail.eq(t).css("display","none"),$(this).parent().css("height",358)}})}),this.$detail.each(function(t,i){$(this).on({mouseenter:function(){$(this).css("display","block"),e.$li.parent().css("height",460.8)},mouseleave:function(){$(this).css("display","none"),e.$li.parent().css("height",358)}})})}}]),t}();$(function(){new indexHtml,new list_slide ;$(".to").each(function(){$(this).css({width:$(this).parent().parent().parent().children(".down").children(".right").children("span").text()+"%"})}),$(".item li").each(function(){$(this).mouseenter(function(){$(this).stop().animate({bottom:"2px"},300).css({"box-shadow":"0 2px 20px rgba(0,0,0,.1)"})}),$(this).mouseout(function(){$(this).stop().animate({bottom:"0px"}).css({"box-shadow":"none"})})});var e=Math.round(4*Math.random()+1);for(let t=1;t<=4;t++){if(1===e){$(".time .round").text("08:00场 "),o(8);break}if(2===e){$(".time .round").text("12:00场 "),o(12);break}if(3===e){$(".time .round").text("18:00场 "),o(18);break}if(4===e){$(".time .round").text("23:00场 "),o(23);break}}function o(l){let h=setInterval(()=>{let t=new Date;var e=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();let i=new Date(e+"/"+o+"/"+n+" "+l+":00:00");e=t.getTime(),o=i.getTime(),n=Math.round(o-e);let r=Math.floor(n/1e3/60/60%24),a=Math.floor(n/1e3/60%60),s=Math.floor(n/1e3%60);r<10&&(r="0"+r),a<10&&(a="0"+a),s<10&&(s="0"+s),n<=0?($(".box.hour").text("00"),$(".box.min").text("00"),$(".box.sec").text("00"),clearInterval(h)):($(".box.hour").text(r),$(".box.min").text(a),$(".box.sec").text(s))},1e3)}});

//jsonp偷数据的代码实现
let ul = document.querySelector('.jsonp');
function fn(data) {
    data.result.forEach((value) => {
        let li = document.createElement('li');
        li.innerText = value[0];
        li.style.height = 30 + 'px';
        li.style.whiteSpace = 'nowrap';
        li.style.overflow = 'hidden';
        li.style.textOverflow = 'ellipsis';
        li.style.paddingLeft = 10 + 'px';
        ul.appendChild(li);
        li.onclick = function(){
			location.href = 'https://www.jd.com/';
		}
		li.onmouseenter = function(){
			this.style.backgroundColor = '#845f3f';
		}
		li.onmouseleave = function(){
			this.style.backgroundColor = '#fff';
		}
    })
}